import eve from'./eve/eve';import extend,{merge,getArrayCopy,cacher}from'./raphael.lib';var _win='undefined'==typeof window?'undefined'==typeof global?null:global:window;function R(e){var t,a,n;return void 0===R._url&&(R._url=E),R.is(e,FUNCTION)?loaded?e():eve.on('raphael.DOMload',e):R.is(e,ARRAY)?R._engine.create[APPLY](R,e.splice(0,3+R.is(e[0],NU))).add(e):(a=getArrayCopy(arguments),t=Array.prototype.slice.call(a,0),R.is(t[t.length-1],FUNCTION)?(n=t.pop(),loaded?n.call(R._engine.create[APPLY](R,t)):eve.on('raphael.DOMload',function(){n.call(R._engine.create[APPLY](R,t))})):R._engine.create[APPLY](R,arguments))}R.upgrade='1.0.0',R.version='2.1.0',R.eve=eve;var loaded,UNDEF,undef,__data,E='',S=' ',HAS='hasOwnProperty',APPLY='apply',CONCAT='concat',NU='number',STRING='string',ARRAY='array',OBJECT='object',FINITE='finite',SPLIT='split',NONE='none',BLACK='#000',NULL='null',FUNCTION='function',COMMA=',',TOKEN1='$1',rCheckRegex=/R/i,isIE=/trident/i.test(_win.navigator.userAgent),paramCounts={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},arraySplice=Array.prototype.splice,hasPrototypeBug=function(){return function(){}.hasOwnProperty('prototype')}(),g={doc:_win.document,win:_win},doc=g.doc,win=g.win,supportsTouch=R.supportsTouch='createTouch'in doc,mStr='m',lStr='l',strM='M',strL='L',__params=[],charRegex=/[a-z]/i,pathStringBreakFn=function(e,t,a){var n=t.toLowerCase(),r=[],o=0;if(__params.length=0,a.replace(pathValues,function(e,t){t&&__params.push(+t)}),'r'===n)__data.push([t][CONCAT](__params));else if('z'===n)__data.push([t]);else if(__params.length>=paramCounts[n]){for(;o<__params.length;)o%paramCounts[n]?r.push(__params[o]):(r.length&&__data.push(r)&&(r=[]),r.push(t,__params[o])),o++;__data.push(r)}},supportsOnlyTouch=R.supportsOnlyTouch=supportsTouch&&!(win.navigator.maxTouchPoints||win.navigator.msMaxTouchPoints),CustomAttributes=function(){},caproto=R.ca=R.customAttributes=CustomAttributes.prototype,Paper=function(){this.ca=this.customAttributes=new CustomAttributes,this._CustomAttributes=function(){},this._CustomAttributes.prototype=this.ca,this._elementsById={},this.id=R._oid++,eve('raphael.new',this)},paperproto=R.fn=Paper.prototype=R.prototype,events='click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel dragstart dragmove dragend'.split(' '),touchMap=R._touchMap={mousedown:'touchstart',mousemove:'touchmove',mouseup:'touchend'},dragEventMap=R._dragEventMap={dragstart:'mousedown',dragmove:'mousemove',dragend:'mouseup'},Str=String,toFloat=win.parseFloat,toInt=win.parseInt,math=Math,mmax=math.max,mmin=math.min,abs=math.abs,pow=math.pow,mathCos=math.cos,mathSin=math.sin,mathSqrt=math.sqrt,round=math.round,PI=math.PI,deg2rad=PI/180,rad2deg=180/PI,lowerCase=Str.prototype.toLowerCase,upperCase=Str.prototype.toUpperCase,objectToString=Object.prototype.toString,separator=/[, ]+/,formatrg=/\{(\d+)\}/g,colourRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,bezierrg=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,commaSpaces=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,p2s=/,?([achlmqrstvxz]),?/gi,pathCommaRegex=/,?[a-z],?/i,pathCommand=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,tCommand=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,pathValues=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,isnan={NaN:1,Infinity:1,"-Infinity":1},hsrg={hs:1,rg:1},availableAttrs=R._availableAttrs={"arrow-end":'none',"arrow-start":'none',blur:0,"clip-rect":'0 0 1e9 1e9',"clip-path":'',cursor:'default',cx:0,cy:0,fill:'#fff',"fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":'10',"font-style":'normal',"font-weight":400,gradient:0,height:0,href:'about:blank',"letter-spacing":0,"line-height":12,"vertical-align":'middle',opacity:1,path:'M0,0',r:0,rx:0,ry:0,src:'',stroke:'#000',"stroke-dasharray":'',"stroke-linecap":'butt',"stroke-linejoin":'butt',"stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:'_blank',"text-anchor":'middle',visibility:'',title:'',transform:'',rotation:0,width:0,x:0,y:0,"shape-rendering":'auto',alpha:'number'},availableAnimAttrs=R._availableAnimAttrs={blur:'number',"clip-rect":'csv',"clip-path":'path',cx:'number',cy:'number',fill:'colour',"fill-opacity":'number',"font-size":'number',height:'number',opacity:'number',path:'path',r:'number',rx:'number',ry:'number',stroke:'colour',"stroke-opacity":'number',"stroke-width":'number',transform:'transform',width:'number',x:'number',y:'number',color:'colour',borderColor:'colour',borderWidth:'number',alpha:'number',"text-bound":'text-bound'},eldata={},sortByNumber=function(e,t){return toFloat(e)-toFloat(t)},fun=function(){},pipe=function(e){return e},rectPath=R._rectPath=function(e,t,a,n,i){return i?[[strM,e+i,t],[lStr,a-2*i,0],['a',i,i,0,0,1,i,i],[lStr,0,n-2*i],['a',i,i,0,0,1,-i,i],[lStr,2*i-a,0],['a',i,i,0,0,1,-i,-i],[lStr,0,2*i-n],['a',i,i,0,0,1,i,-i],['z']]:[[strM,e,t],[lStr,a,0],[lStr,0,n],[lStr,-a,0],['z']]},ellipsePath=function(e,t,a,n){return null==n&&(n=a),[[strM,e,t],[mStr,0,-n],['a',a,n,0,1,1,0,2*n],['a',a,n,0,1,1,0,-2*n],['z']]},getPath=R._getPath={group:function(){return!1},path:function(e){return e.attr('path')},circle:function(e){var t=e.attrs;return ellipsePath(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return ellipsePath(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return rectPath(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return rectPath(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return rectPath(t.x,t.y,t.width,t.height)}},mapPath=R.mapPath=function(e,t){if(!t)return e;var a,n,r,o,s,l,d;for(e=path2curve(e).slice(0),r=0,s=e.length;r<s;r++)for(d=e[r]=e[r].slice(0),o=1,l=d.length;o<l;o+=2)a=t.x(d[o],d[o+1]),n=t.y(d[o],d[o+1]),d[o]=a,d[o+1]=n;return e},lastArgIfGroup=R._lastArgIfGroup=function(e,t){var a=e.length-1,n=e[a];if(n&&n.constructor===R.el.constructor&&'group'===n.type)return t&&(e[a]=void 0,delete e[a],arraySplice.call(e,a,1)),n},serializeArgs=R._serializeArgs=function(e){var t,a,n,r,o=e[0];if(R.is(o,OBJECT)&&!R.is(o,ARRAY)&&'group'!==o.type)for(a=o,o.path&&(t=o.path,t&&!R.is(t,STRING)&&!R.is(t[0],ARRAY)&&(t+=E)),(n=1,r=arguments.length);n<r;n+=2)a[arguments[n]]||(a[arguments[n]]=arguments[n+1]);else for(a={},n=1,r=arguments.length;n<r;n+=2)a[arguments[n]]=e[(n-1)/2]||arguments[n+1];return a},is=R.is=function(e,t){return t===FINITE?!isnan[HAS](+e):t===ARRAY?e instanceof Array:(t!==OBJECT||e!==undef&&null!==e)&&(t==NULL&&null===e||t==typeof e&&null!==e||t==OBJECT&&e===Object(e)||t==ARRAY&&Array.isArray&&Array.isArray(e)||objectToString.call(e).slice(8,-1).toLowerCase()===t)},clone=R.clone=hasPrototypeBug?function(e){if(Object(e)!==e)return e;var t=new e.constructor;for(var a in e)'prototype'!==a&&e[HAS](a)&&(t[a]=clone(e[a]));return t}:function(e){if(Object(e)!==e)return e;var t=new e.constructor;for(var a in e)e[HAS](a)&&(t[a]=clone(e[a]));return t},Node=_win.Node;Node&&!Node.prototype.contains&&(Node.prototype.contains=function(e){for(;e=e.parentNode;)if(e===this)return!0;return!1});R._g=g,R.merge=merge,R.extend=extend,R.createUUID=function(e,t){return function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(e,t).toUpperCase()}}(/[xy]/g,function(e){var t=0|16*math.random(),a='x'===e?t:8|3&t;return a.toString(16)}),R._radial_gradient=/^x?r(?:\(([^\)]*?)\))?/,R._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,R.getElementID=function(e){return'rr-'+e};function PriorityQueue(e){this._comparator=e,this._elements=[]}PriorityQueue.prototype.isEmpty=function(){return 0===this.size()},PriorityQueue.prototype.peek=function(){return this.isEmpty()?null:this._elements[0]},PriorityQueue.prototype.deq=function(){var e=this.peek(),t=this._elements.pop(),a=this.size();if(0===a)return e;this._elements[0]=t;for(var n=0;n<a;){var i=n,r=2*n+1,o=2*n+2;if(r<a&&0<=this._compare(r,i)&&(i=r),o<a&&0<=this._compare(o,i)&&(i=o),i===n)break;this._swap(i,n),n=i}return e},PriorityQueue.prototype.enq=function(e){for(var t=this._elements.push(e),a=t-1;0<a;){var n=Math.floor((a-1)/2);if(0>=this._compare(a,n))break;this._swap(n,a),a=n}return t},PriorityQueue.prototype.size=function(){return this._elements.length},PriorityQueue.prototype._compare=function(e,t){return this._comparator(this._elements[e],this._elements[t])},PriorityQueue.prototype._swap=function(e,t){var a=this._elements[e];this._elements[e]=this._elements[t],this._elements[t]=a},R.type=win.ENABLE_RED_CANVAS&&(win.CanvasRenderingContext2D||doc.createElement('canvas').getContext)?'CANVAS':win.SVGAngle||doc.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure','1.1')?'SVG':'VML',R.svg=!((R.vml='VML'===R.type)||(R.canvas='CANVAS'===R.type)),R._Paper=Paper,R._id=0,R._oid=0,R.rad=function(e){return e%360*deg2rad},R.deg=function(e){return e*rad2deg%360};var toHex=function(e){if(R.vml){var t,a=/^\s+|\s+$/g;try{var n=new ActiveXObject('htmlfile');n.write('<body>'),n.close(),t=n.body}catch(a){t=createPopup().document.body}var r=t.createTextRange();toHex=cacher(function(e){try{t.style.color=Str(e).replace(a,E);var n=r.queryCommandValue('ForeColor');return n=(255&n)<<16|65280&n|(16711680&n)>>>16,'#'+('000000'+n.toString(16)).slice(-6)}catch(t){return NONE}})}else{var o=g.doc.createElement('i');o.title='Rapha\xEBl Colour Picker',o.style.display=NONE,g.doc.body.appendChild(o),toHex=cacher(function(e){return o.style.color=e,g.doc.defaultView.getComputedStyle(o,E).getPropertyValue('color')})}return toHex(e)},hsbtoString=function(){return'hsb('+[this.h,this.s,this.b]+')'},hsltoString=function(){return'hsl('+[this.h,this.s,this.l]+')'},rgbtoString=function(){return this.hex},prepareRGB=function(e,t,a){if(null==t&&is(e,OBJECT)&&'r'in e&&'g'in e&&'b'in e&&(a=e.b,t=e.g,e=e.r),null==t&&is(e,STRING)){var n=R.getRGB(e);e=n.r,t=n.g,a=n.b}return(1<e||1<t||1<a)&&(e/=255,t/=255,a/=255),[e,t,a]},packageRGB=function(e,t,a,n){var i={r:e*=255,g:t*=255,b:a*=255,hex:R.rgb(e,t,a),toString:rgbtoString};return is(n,FINITE)&&(i.opacity=n),i};R.color=function(e){var t;return R.is(e,OBJECT)&&'h'in e&&'s'in e&&'b'in e?(t=R.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):R.is(e,OBJECT)&&'h'in e&&'s'in e&&lStr in e?(t=R.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):(R.is(e,STRING)&&(e=R.getRGB(e)),R.is(e,OBJECT)&&'r'in e&&'g'in e&&'b'in e?(t=R.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=R.rgb2hsb(e),e.v=t.b):(e={hex:NONE},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=rgbtoString,e},R.hsb2rgb=function(e,t,a,n){this.is(e,OBJECT)&&'h'in e&&'s'in e&&'b'in e&&(a=e.b,t=e.s,e=e.h,n=e.o),e*=360;var i,r,l,d,p;return e=e%360/60,p=a*t,d=p*(1-abs(e%2-1)),i=r=l=a-p,e=~~e,i+=[p,d,0,0,d,p][e],r+=[d,p,p,d,0,0][e],l+=[0,0,d,p,p,d][e],packageRGB(i,r,l,n)},R.hsl2rgb=function(e,t,a,n){this.is(e,OBJECT)&&'h'in e&&'s'in e&&lStr in e&&(a=e.l,t=e.s,e=e.h),(1<e||1<t||1<a)&&(e/=360,t/=100,a/=100),e*=360;var i,r,o,d,p;return e=e%360/60,p=2*t*(.5>a?a:1-a),d=p*(1-abs(e%2-1)),i=r=o=a-p/2,e=~~e,i+=[p,d,0,0,d,p][e],r+=[d,p,p,d,0,0][e],o+=[0,0,d,p,p,d][e],packageRGB(i,r,o,n)},R.rgb2hsb=function(e,t,a){a=prepareRGB(e,t,a),e=a[0],t=a[1],a=a[2];var n,i,o,s;return o=mmax(e,t,a),s=o-mmin(e,t,a),n=0===s?null:o===e?(t-a)/s:o===t?(a-e)/s+2:(e-t)/s+4,n=60*((n+360)%6)/360,i=0===s?0:s/o,{h:n,s:i,b:o,toString:hsbtoString}},R.rgb2hsl=function(e,t,a){a=prepareRGB(e,t,a),e=a[0],t=a[1],a=a[2];var n,i,o,s,l,d;return s=mmax(e,t,a),l=mmin(e,t,a),d=s-l,n=0===d?null:s===e?(t-a)/d:s===t?(a-e)/d+2:(e-t)/d+4,n=60*((n+360)%6)/360,o=(s+l)/2,i=0===d?0:.5>o?d/(2*o):d/(2-2*o),{h:n,s:i,l:o,toString:hsltoString}},R._path2string=function(){return this.join(COMMA).replace(p2s,TOKEN1)},R._cacher=cacher;function clrToString(){return this.hex}R.getRGB=cacher(function(e){var a,n,i,r,o,s,l;return(e&&is(e,OBJECT)&&'opacity'in e&&(a=e.opacity),!e||!!((e=Str(e)).indexOf('-')+1))?{r:-1,g:-1,b:-1,hex:NONE,error:1,toString:clrToString}:e===NONE?{r:-1,g:-1,b:-1,hex:NONE,toString:clrToString}:(hsrg[HAS](e.toLowerCase().substring(0,2))||'#'===e.charAt()||(e=toHex(e)),l=e.match(colourRegExp))?(l[2]&&(r=toInt(l[2].substring(5),16),i=toInt(l[2].substring(3,5),16),n=toInt(l[2].substring(1,3),16)),l[3]&&(r=toInt((o=l[3].charAt(3))+o,16),i=toInt((o=l[3].charAt(2))+o,16),n=toInt((o=l[3].charAt(1))+o,16)),l[4]&&(s=l[4][SPLIT](commaSpaces),n=toFloat(s[0]),'%'===s[0].slice(-1)&&(n*=2.55),i=toFloat(s[1]),'%'===s[1].slice(-1)&&(i*=2.55),r=toFloat(s[2]),'%'===s[2].slice(-1)&&(r*=2.55),'rgba'===l[1].toLowerCase().slice(0,4)&&(a=toFloat(s[3])),s[3]&&'%'===s[3].slice(-1)&&(a/=100)),l[5])?(s=l[5][SPLIT](commaSpaces),n=toFloat(s[0]),'%'===s[0].slice(-1)&&(n*=2.55),i=toFloat(s[1]),'%'===s[1].slice(-1)&&(i*=2.55),r=toFloat(s[2]),'%'===s[2].slice(-1)&&(r*=2.55),('deg'===s[0].slice(-3)||'\xB0'===s[0].slice(-1))&&(n/=360),'hsba'===l[1].toLowerCase().slice(0,4)&&(a=toFloat(s[3])),s[3]&&'%'===s[3].slice(-1)&&(a/=100),R.hsb2rgb(n,i,r,a)):l[6]?(s=l[6][SPLIT](commaSpaces),n=toFloat(s[0]),'%'===s[0].slice(-1)&&(n*=2.55),i=toFloat(s[1]),'%'===s[1].slice(-1)&&(i*=2.55),r=toFloat(s[2]),'%'===s[2].slice(-1)&&(r*=2.55),('deg'===s[0].slice(-3)||'\xB0'===s[0].slice(-1))&&(n/=360),'hsla'===l[1].toLowerCase().slice(0,4)&&(a=toFloat(s[3])),s[3]&&'%'===s[3].slice(-1)&&(a/=100),R.hsl2rgb(n,i,r,a)):(l={r:n,g:i,b:r,toString:clrToString},l.hex='#'+(16777216|r|i<<8|n<<16).toString(16).slice(1),R.is(a,FINITE)&&(l.opacity=a),l):{r:-1,g:-1,b:-1,hex:NONE,error:1,toString:clrToString}},R),R.tintshade=cacher(function(e,t){var a,n=R.getRGB(e),i=255;return 0>t&&(t*=-1,i=0),1<t&&(t=1),a=0===t?n:{r:i-(i-n.r)*t,g:i-(i-n.g)*t,b:i-(i-n.b)*t,toString:clrToString},a.hex=R.rgb(a.r,a.g,a.b),n.error&&(a.error=n.error),'opacity'in n?(a.rgba='rgba('+[a.r,a.g,a.b,n.opacity].join(',')+')',a.opacity=n.opacity):a.rgba='rgb('+[a.r,a.g,a.b].join(',')+')',a},R),R.rgb=cacher(function(e,t,a){return'#'+(16777216|a|t<<8|e<<16).toString(16).slice(1)});function catmullRom2bezier(e,t){for(var a,n=[],r=0,o=e.length;o-2*!t>r;r+=2)a=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}],t?r?o-4==r?a[3]={x:+e[0],y:+e[1]}:o-2==r&&(a[2]={x:+e[0],y:+e[1]},a[3]={x:+e[2],y:+e[3]}):a[0]={x:+e[o-2],y:+e[o-1]}:o-4==r?a[3]=a[2]:!r&&(a[0]={x:+e[r],y:+e[r+1]}),n.push(['C',(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y]);return n}R.sanitizePath=function(e){var t;return t=e.join?e.join(COMMA):e,rCheckRegex.test(t)?t=R._pathToAbsolute(t):p2s.test(pathCommaRegex)&&(t=t.replace(p2s,TOKEN1)),t},R.parsePathString=function(e){if(!e||!e.length)return null;var t=paths(e);if(t.arr)return pathClone(t.arr);if(__data=undef,R.is(e,ARRAY))if(e=Str(e).replace(/,?([A-Z]),?/g,',$1,').replace(/(^,?)|(,?$)/g,'').replace(/,,?/g,',').split(','),R.is(e[0],ARRAY))__data=pathClone(e);else{var a,n,r,o=[],s=e.length;for(__data=[],a=0;a<s;a+=1)charRegex.test(e[a])?(o.length&&__data.push(o),n=e[a],o=[n],r=paramCounts[n.toLowerCase()]):r?(o.push(+e[a]),r--):e[a].length&&(__data.push(o),o=[n].concat(+e[a]),r=paramCounts[n.toLowerCase()]-1);__data.push(o)}return __data&&__data.length||(__data=[],Str(e).replace(pathCommand,pathStringBreakFn)),__data.toString=R._path2string,t.arr=__data,t.arr},R.parseTransformString=cacher(function(e){if(!e)return null;var t=[];return R.is(e,ARRAY)&&R.is(e[0],ARRAY)&&(t=pathClone(e)),t.length||Str(e).replace(tCommand,function(e,a,n){var i=[],r=lowerCase.call(a);n.replace(pathValues,function(e,t){t&&i.push(+t)}),t.push([a][CONCAT](i))}),t.toString=R._path2string,t});var _pathCache={},paths=cacher(function(){return{}},undef,undef,undef,500,_pathCache,!0);R.findDotsAtSegment=function(e,a,n,i,r,o,s,l,d){var t=1-d,p=pow(t,3),g=pow(t,2),c=d*d,h=c*d,u=e+2*d*(n-e)+c*(r-2*n+e),m=a+2*d*(i-a)+c*(o-2*i+a),y=n+2*d*(r-n)+c*(s-2*r+n),x=i+2*d*(o-i)+c*(l-2*o+i),f=90-180*math.atan2(u-y,m-x)/PI;return(u>y||m<x)&&(f+=180),{x:p*e+3*g*d*n+3*t*d*d*r+h*s,y:p*a+3*g*d*i+3*t*d*d*o+h*l,m:{x:u,y:m},n:{x:y,y:x},start:{x:t*e+d*n,y:t*a+d*i},end:{x:t*r+d*s,y:t*o+d*l},alpha:f}};function base3(e,t,a,n,i){return e*(e*(-3*t+9*a-9*n+3*i)+6*t-12*a+6*n)-3*t+3*a}function bezlen(e,t,a,n,r,o,s,l,d){null==d&&(d=1),d=1<d?1:0>d?0:d;for(var p=d/2,g=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],c=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,u=0;u<12;u++){var m=p*g[u]+p,y=base3(m,e,a,r,s),x=base3(m,t,n,o,l);h+=c[u]*mathSqrt(y*y+x*x)}return p*h}function getTatLen(e,t,a,n,i,r,o,s,d){if(!(0>d||bezlen(e,t,a,n,i,r,o,s)<d)){var p,g=1/2,c=1-g;for(p=bezlen(e,t,a,n,i,r,o,s,c);abs(p-d)>.01;)g/=2,c+=(p<d?1:-1)*g,p=bezlen(e,t,a,n,i,r,o,s,c);return c}}function intersect(e,t,a,n,i,r,o,s){if(!(mmax(e,a)<mmin(i,o)||mmin(e,a)>mmax(i,o)||mmax(t,n)<mmin(r,s)||mmin(t,n)>mmax(r,s))){var l=(e-a)*(r-s)-(t-n)*(i-o);if(l){var d=((e*n-t*a)*(i-o)-(e-a)*(i*s-r*o))/l,p=((e*n-t*a)*(r-s)-(t-n)*(i*s-r*o))/l,g=+d.toFixed(2),c=+p.toFixed(2);return g<+mmin(e,a).toFixed(2)||g>+mmax(e,a).toFixed(2)||g<+mmin(i,o).toFixed(2)||g>+mmax(i,o).toFixed(2)||c<+mmin(t,n).toFixed(2)||c>+mmax(t,n).toFixed(2)||c<+mmin(r,s).toFixed(2)||c>+mmax(r,s).toFixed(2)?void 0:{x:d,y:p}}}}R._removedFactory=function(e){return function(){eve('raphael.log',null,'Rapha\xEBl: you are calling to method \u201C'+e+'\u201D of removed object',e)}};var pathDimensions=R.pathBBox=function(e){var t=paths(e);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};e=path2curve(e);for(var a,n=0,r=0,o=[],s=[],l=0,d=e.length;l<d;l++)if(a=e[l],a[0]===strM)n=a[1],r=a[2],o.push(n),s.push(r);else{var g=curveDim(n,r,a[1],a[2],a[3],a[4],a[5],a[6]);o=o[CONCAT](g.min.x,g.max.x),s=s[CONCAT](g.min.y,g.max.y),n=a[5],r=a[6]}var c=mmin[APPLY](0,o),h=mmin[APPLY](0,s),u=mmax[APPLY](0,o),m=mmax[APPLY](0,s),f={x:c,y:h,x2:u,y2:m,width:u-c,height:m-h};return t.bbox=clone(f),f},pathClone=function(e){var t=clone(e);return t.toString=R._path2string,t},pathToAbsolute=R._pathToAbsolute=function(e){var t,a=paths(e);if(!a.abs){if(R.is(e,ARRAY)&&R.is(e&&e[0],ARRAY)||(e=R.parsePathString(e)),!e||!e.length)return t=[[strM,0,0]],t.toString=R._path2string,t;var n=0,o=0,s=0,l=0,d=0;t=[],e[0][0]===strM&&(n=+e[0][1],o=+e[0][2],s=n,l=o,d++,t[0]=[strM,n,o]);for(var p,g,c=3===e.length&&e[0][0]===strM&&'R'===e[1][0].toUpperCase()&&'Z'===e[2][0].toUpperCase(),h=d,u=e.length;h<u;h++){if(t.push(p=[]),g=e[h],g[0]!=upperCase.call(g[0]))switch(p[0]=upperCase.call(g[0]),p[0]){case'A':p[1]=g[1],p[2]=g[2],p[3]=g[3],p[4]=g[4],p[5]=g[5],p[6]=+(g[6]+n),p[7]=+(g[7]+o);break;case'V':p[1]=+g[1]+o;break;case'H':p[1]=+g[1]+n;break;case'R':for(var m=[n,o][CONCAT](g.slice(1)),f=2,b=m.length;f<b;f++)m[f]=+m[f]+n,m[++f]=+m[f]+o;t.pop(),t=t[CONCAT](catmullRom2bezier(m,c));break;case'M':s=+g[1]+n,l=+g[2]+o;default:for(f=1,b=g.length;f<b;f++)p[f]=+g[f]+(f%2?n:o),f%2?n=p[f]:o=p[f];}else if('R'===g[0])m=[n,o][CONCAT](g.slice(1)),t.pop(),t=t[CONCAT](catmullRom2bezier(m,c)),p=['R'][CONCAT](g.slice(-2));else for(var _=0,v=g.length;_<v;_++)p[_]=g[_];switch(p[0]){case'Z':n=s,o=l;break;case'H':n=p[1];break;case'V':o=p[1];break;case'M':s=p[p.length-2],l=p[p.length-1];default:n=p[p.length-2],o=p[p.length-1];}}t.toString=R._path2string,a.abs=t}return pathClone(a.abs)},l2c=function(e,t,a,n){return[e,t,a,n,a,n]},q2c=function(e,t,a,n,i,r){var o=1/3,s=2/3;return[o*e+s*a,o*t+s*n,o*i+s*a,o*r+s*n,i,r]},a2c=function(e,a,n,r,o,s,l,d,p,g){l=l&&+l,s=s&&+s;var c,u=120*PI/180,m=deg2rad*(+o||0),f=[],b=cacher(function(e,t,a){var n=e*mathCos(a)-t*mathSin(a),i=e*mathSin(a)+t*mathCos(a);return{x:n,y:i}});if(!g){c=b(e,a,-m),e=c.x,a=c.y,c=b(d,p,-m),d=c.x,p=c.y;var _=mathCos(deg2rad*o),v=mathSin(deg2rad*o),A=(e-d)/2,x=(a-p)/2,y=A*A/(n*n)+x*x/(r*r);1<y&&(y=mathSqrt(y),n=y*n,r=y*r);var C=n*n,w=r*r,S=(s===l?-1:1)*mathSqrt(abs((C*w-C*x*x-w*A*A)/(C*x*x+w*A*A))),k=S*n*x/r+(e+d)/2,I=S*-r*A/n+(a+p)/2,P=math.asin(((a-I)/r).toFixed(9)),T=math.asin(((p-I)/r).toFixed(9));P=e<k?PI-P:P,T=d<k?PI-T:T,0>P&&(P=2*PI+P),0>T&&(T=2*PI+T),l&&P>T&&(P-=2*PI),!l&&T>P&&(T-=2*PI)}else P=g[0],T=g[1],k=g[2],I=g[3];var E=T-P;if(abs(E)>u){var F=T,L=d,j=p;T=P+u*(l&&T>P?1:-1),d=k+n*mathCos(T),p=I+r*mathSin(T),f=a2c(d,p,n,r,o,0,l,L,j,[T,F,k,I])}E=T-P;var O=mathCos(P),N=mathSin(P),B=mathCos(T),R=mathSin(T),M=math.tan(E/4),t=4/3*n*M,V=4/3*r*M,D=[e,a],q=[e+t*N,a-V*O],Y=[d+t*R,p-V*B],H=[d,p];if(q[0]=2*D[0]-q[0],q[1]=2*D[1]-q[1],g)return[q,Y,H][CONCAT](f);f=[q,Y,H][CONCAT](f).join()[SPLIT](COMMA);for(var z=[],X=0,G=f.length;X<G;X++)z[X]=X%2?b(f[X-1],f[X],m).y:b(f[X],f[X+1],m).x;return z},findDotAtSegment=function(e,a,n,i,r,o,s,l,d){var t=1-d;return{x:pow(t,3)*e+3*pow(t,2)*d*n+3*t*d*d*r+pow(d,3)*s,y:pow(t,3)*a+3*pow(t,2)*d*i+3*t*d*d*o+pow(d,3)*l}},curveDim=cacher(function(e,t,n,i,r,o,s,l){var d,p=r-2*n+e-(s-2*r+n),g=2*(n-e)-2*(r-n),h=e-n,u=(-g+mathSqrt(g*g-4*p*h))/2/p,m=(-g-mathSqrt(g*g-4*p*h))/2/p,f=[t,l],y=[e,s];return'1e12'<abs(u)&&(u=.5),'1e12'<abs(m)&&(m=.5),0<u&&1>u&&(d=findDotAtSegment(e,t,n,i,r,o,s,l,u),y.push(d.x),f.push(d.y)),0<m&&1>m&&(d=findDotAtSegment(e,t,n,i,r,o,s,l,m),y.push(d.x),f.push(d.y)),p=o-2*i+t-(l-2*o+i),g=2*(i-t)-2*(o-i),h=t-i,u=(-g+mathSqrt(g*g-4*p*h))/2/p,m=(-g-mathSqrt(g*g-4*p*h))/2/p,'1e12'<abs(u)&&(u=.5),'1e12'<abs(m)&&(m=.5),0<u&&1>u&&(d=findDotAtSegment(e,t,n,i,r,o,s,l,u),y.push(d.x),f.push(d.y)),0<m&&1>m&&(d=findDotAtSegment(e,t,n,i,r,o,s,l,m),y.push(d.x),f.push(d.y)),{min:{x:mmin[APPLY](0,y),y:mmin[APPLY](0,f)},max:{x:mmax[APPLY](0,y),y:mmax[APPLY](0,f)}}}),path2curve=R._path2curve=cacher(function(e,t){var a=!t&&paths(e);if(!t&&a.curve)return pathClone(a.curve);for(var n=pathToAbsolute(e),r=t&&pathToAbsolute(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=function(e,t){var a,n;if(!e)return['C',t.x,t.y,t.x,t.y,t.x,t.y];switch((e[0]in{T:1,Q:1})||(t.qx=t.qy=null),e[0]){case'M':t.X=e[1],t.Y=e[2];break;case'A':e=['C'][CONCAT](a2c[APPLY](0,[t.x,t.y][CONCAT](e.slice(1))));break;case'S':a=t.x+(t.x-(t.bx||t.x)),n=t.y+(t.y-(t.by||t.y)),e=['C',a,n][CONCAT](e.slice(1));break;case'T':t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=['C'][CONCAT](q2c(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case'Q':t.qx=e[1],t.qy=e[2],e=['C'][CONCAT](q2c(t.x,t.y,e[1],e[2],e[3],e[4]));break;case'L':e=['C'][CONCAT](l2c(t.x,t.y,e[1],e[2]));break;case'H':e=['C'][CONCAT](l2c(t.x,t.y,e[1],t.y));break;case'V':e=['C'][CONCAT](l2c(t.x,t.y,t.x,e[1]));break;case'Z':e=['C'][CONCAT](l2c(t.x,t.y,t.X,t.Y));}return e},d=function(e,t){if(7<e[t].length){e[t].shift();for(var a=e[t];a.length;)e.splice(t++,0,['C'][CONCAT](a.splice(0,6)));e.splice(t,1),c=mmax(n.length,r&&r.length||0)}},p=function(e,t,a,o,s){e&&t&&e[s][0]===strM&&t[s][0]!=strM&&!s&&(t.splice(s,0,[strM,o.x,o.y]),a.bx=0,a.by=0,a.x=e[s][1],a.y=e[s][2],c=mmax(n.length,r&&r.length||0))},g=0,c=mmax(n.length,r&&r.length||0);g<c;g++){n[g]=l(n[g],o),d(n,g),r&&(r[g]=l(r[g],s)),r&&d(r,g),p(n,r,o,s,g),p(r,n,s,o,g);var h=n[g],u=r&&r[g],m=h.length,y=r&&u.length;o.x=h[m-2],o.y=h[m-1],o.bx=toFloat(h[m-4])||o.x,o.by=toFloat(h[m-3])||o.y,s.bx=r&&(toFloat(u[y-4])||s.x),s.by=r&&(toFloat(u[y-3])||s.y),s.x=r&&u[y-2],s.y=r&&u[y-1]}return r||(a.curve=pathClone(n)),r?[n,r]:n},null,pathClone),parseDots=R._parseDots=cacher(function(e){for(var t=[],a=0,n=e.length;a<n;a++){var r={},o=e[a].match(/^([^:]*):?([\d\.]*)/);if(r.color=R.getRGB(o[1]),r.color.error)return null;r.opacity=r.color.opacity,r.color=r.color.hex,o[2]&&(r.offset=o[2]+'%'),t.push(r)}for(a=1,n=t.length-1;a<n;a++)if(!t[a].offset){for(var s=toFloat(t[a-1].offset||0),l=0,p=a+1;p<n;p++)if(t[p].offset){l=t[p].offset;break}l||(l=100,p=n),l=toFloat(l);for(var g=(l-s)/(p-a+1);a<p;a++)s+=g,t[a].offset=s+'%'}return t}),tear=R._tear=function(e,t){e===t.top&&(t.top=e.prev),e===t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)},tofront=R._tofront=function(e,t){return t.top!==e&&(tear(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e,!0)},toback=R._toback=function(e,t){return t.bottom!==e&&(tear(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e,!0)},insertafter=R._insertafter=function(e,t,a,n){tear(e,a),e.parent=n,t===n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},insertbefore=R._insertbefore=function(e,t,a,n){tear(e,a),e.parent=n,t===n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},extractTransform=R._extractTransform=function(e,a){if(null==a)return e._.transform;a=Str(a).replace(/\.{3}|\u2026/g,e._.transform||E);var n=R.parseTransformString(a),r=0,o=0,s=0,l=1,d=1,p=e._,g=new Matrix;if(p.transform=n||[],n)for(var c=0,h=n.length;c<h;c++){var u,m,y,x,f,b=n[c],t=b.length,_=Str(b[0]).toLowerCase(),v=b[0]!=_,A=v?g.invert():0;'t'===_&&3===t?v?(u=A.x(0,0),m=A.y(0,0),y=A.x(b[1],b[2]),x=A.y(b[1],b[2]),g.translate(y-u,x-m)):g.translate(b[1],b[2]):'r'===_?2===t?(f=p.bb||(p.bb=e.getBBox(1)),g.rotate(b[1],f.x+f.width/2,f.y+f.height/2),r+=b[1]):4===t&&(v?(y=A.x(b[2],b[3]),x=A.y(b[2],b[3]),g.rotate(b[1],y,x)):g.rotate(b[1],b[2],b[3]),r+=b[1]):'s'===_?2===t||3===t?(f=p.bb||(p.bb=e.getBBox(1)),g.scale(b[1],b[t-1],f.x+f.width/2,f.y+f.height/2),l*=b[1],d*=b[t-1]):5===t&&(v?(y=A.x(b[3],b[4]),x=A.y(b[3],b[4]),g.scale(b[1],b[2],y,x)):g.scale(b[1],b[2],b[3],b[4]),l*=b[1],d*=b[2]):_===mStr&&7===t&&g.add(b[1],b[2],b[3],b[4],b[5],b[6]),p.dirtyT=1,e.matrix=g}e.matrix=g,p.sx=l,p.sy=d,p.deg=r,p.dx=o=g.e,p.dy=s=g.f,1===l&&1===d&&!r&&p.bbox?(p.bbox.x+=+o,p.bbox.y+=+s):p.dirtyT=1},getEmpty=function(e){var t=e[0];switch(t.toLowerCase()){case't':return[t,0,0];case'm':return[t,1,0,0,1,0,0];case'r':return 4===e.length?[t,0,e[2],e[3]]:[t,0];case's':return 5===e.length?[t,1,1,e[3],e[4]]:3===e.length?[t,1,1]:[t,1];}},equaliseTransform=R._equaliseTransform=function(e,t){t=Str(t).replace(/\.{3}|\u2026/g,e),e=R.parseTransformString(e)||[],t=R.parseTransformString(t)||[];for(var a,n,r,o,s=mmax(e.length,t.length),l=[],d=[],p=0;p<s;p++){if(r=e[p]||getEmpty(t[p]),o=t[p]||getEmpty(r),r[0]!=o[0]||'r'===r[0].toLowerCase()&&(r[2]!=o[2]||r[3]!=o[3])||'s'===r[0].toLowerCase()&&(r[3]!=o[3]||r[4]!=o[4]))return;for(l[p]=[],d[p]=[],(a=0,n=mmax(r.length,o.length));a<n;a++)a in r&&(l[p][a]=r[a]),a in o&&(d[p][a]=o[a])}return{from:l,to:d}};R._getContainer=function(e,t,a,n){var i;return i=null!=n||R.is(e,OBJECT)?e:g.doc.getElementById(e),null==i?void 0:i.tagName?null==t?{container:i,width:i.style.pixelWidth||i.offsetWidth,height:i.style.pixelHeight||i.offsetHeight}:{container:i,width:t,height:a}:{container:1,x:e,y:t,width:a,height:n}},R._engine={},R.path2curve=path2curve,R.matrix=function(t,a,n,i,r,e){return new Matrix(t,a,n,i,r,e)};function Matrix(t,a,n,i,r,e){null==t?(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0):(this.a=+t,this.b=+a,this.c=+n,this.d=+i,this.e=+r,this.f=+e)}(function(e){function t(e){return e[0]*e[0]+e[1]*e[1]}function a(e){var a=mathSqrt(t(e));e[0]&&(e[0]/=a),e[1]&&(e[1]/=a)}e.add=function(t,a,n,i,r,e){var o,s,l,d,p=[[],[],[]],g=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],c=[[t,n,r],[a,i,e],[0,0,1]];for(t&&t instanceof Matrix&&(c=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),o=0;3>o;o++)for(s=0;3>s;s++){for(d=0,l=0;3>l;l++)d+=g[o][l]*c[l][s];p[o][s]=d}this.a=p[0][0],this.b=p[1][0],this.c=p[0][1],this.d=p[1][1],this.e=p[0][2],this.f=p[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new Matrix(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new Matrix(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,a,n){null==t&&(t=e),(a||n)&&this.add(1,0,0,1,a,n),this.add(e,0,0,t,0,0),(a||n)&&this.add(1,0,0,1,-a,-n)},e.rotate=function(e,t,n){e=R.rad(e),t=t||0,n=n||0;var i=+mathCos(e).toFixed(9),r=+mathSin(e).toFixed(9);this.add(i,r,-r,i,t,n),this.add(1,0,0,1,-t,-n)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[Str.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return R.svg?'matrix('+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+')':[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toMatrixString=function(){return'matrix('+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+')'},e.toFilter=function(){return'progid:DXImageTransform.Microsoft.Matrix(M11='+this.get(0)+', M12='+this.get(2)+', M21='+this.get(1)+', M22='+this.get(3)+', Dx='+this.get(4)+', Dy='+this.get(5)+', sizingmethod=\'auto expand\')'},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={dx:this.e,dy:this.f},n=[[this.a,this.c],[this.b,this.d]];e.scalex=mathSqrt(t(n[0])),a(n[0]),e.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*e.shear,n[1][1]-n[0][1]*e.shear],e.scaley=mathSqrt(t(n[1])),a(n[1]),e.shear/=e.scaley;var i=-n[0][1],r=n[1][1];return 0>r?(e.rotate=R.deg(math.acos(r)),0>i&&(e.rotate=360-e.rotate)):e.rotate=R.deg(math.asin(i)),e.isSimple=!+e.shear.toFixed(9)&&(e.scalex.toFixed(9)===e.scaley.toFixed(9)||!e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)===e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[SPLIT]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?'t'+[t.dx,t.dy]:E)+(1!=t.scalex||1!=t.scaley?'s'+[t.scalex,t.scaley,0,0]:E)+(t.rotate?'r'+[t.rotate,0,0]:E)):mStr+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(Matrix.prototype);var navigator=win.navigator,version=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);paperproto.safari='Apple Computer, Inc.'===navigator.vendor&&(version&&4>version[1]||'iP'===navigator.platform.slice(0,2))||'Google Inc.'===navigator.vendor&&version&&8>version[1]?function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:NONE});return setTimeout(function(){e.remove()}),!0}:fun;for(var preventDefault=function(){this.returnValue=!1},preventTouch=function(){return this.originalEvent.preventDefault()},stopPropagation=function(){this.cancelBubble=!0},stopTouch=function(){return this.originalEvent.stopPropagation()},eventCopyList={stopPropagation:'fn',stopImmediatePropagation:'fn',preventDefault:'fn',type:!0,clientX:!0,clientY:!0,pageX:!0,pageY:!0,bubbles:!0,cancelable:!0,touches:!0,target:!0,originalTarget:!0,srcElement:!0,relatedTarget:!0,fromElement:!0,changedTouches:!0,layerX:!0,layerY:!0},makeSelectiveCopy=function(e,t){for(let a in eventCopyList)e[a]='fn'===eventCopyList[a]?function(){return function(){t[a]()}}(t):t[a];e.originalEvent=t},addEvent=R.addEvent=function(){if(g.doc.addEventListener)return function(t,a,n,r){var e,i,o=supportsOnlyTouch&&touchMap[a]||a;return isIE||(i={capture:!1},supportsTouch&&r._drag&&(i.passive=!1)),touchMap[dragEventMap[a]]&&(o=touchMap[dragEventMap[a]]),e=function(o){var s,l=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,d=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft;if(supportsTouch&&touchMap[HAS](supportsOnlyTouch?a:dragEventMap[a]))for(var p=0,c=o.targetTouches&&o.targetTouches.length;p<c;p++)if(s=o.targetTouches[p].target,s===t||'tspan'===s.nodeName&&s.parentNode===t){var h=o;o=o.targetTouches[p],o.originalEvent=h,o.preventDefault=preventTouch,o.stopPropagation=stopTouch;break}return n.call(r,o,o.clientX+d,o.clientY+l)},t.addEventListener(o,e,i),function(){return t.removeEventListener(o,e,i),!0}};return g.doc.attachEvent?function(e,t,a,n){var i=function(t){t=t||g.win.event;var i=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,r=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,o=t.clientX+r,s=t.clientY+i;return t.preventDefault=t.preventDefault||preventDefault,t.stopPropagation=t.stopPropagation||stopPropagation,a.call(n,t,o,s)};e.attachEvent('on'+t,i);return function(){return e.detachEvent('on'+t,i),!0}}:void 0}(),dragMove=function(t){for(var e,a=t.clientX===UNDEF?t.changedTouches&&t.changedTouches[0].clientX:t.clientX,n=t.clientY===UNDEF?t.changedTouches&&t.changedTouches[0].clientY:t.clientY,r=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,o=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,s={},l=this,d=l.dragInfo.onmove.length;d--;){if(supportsTouch&&'touchmove'===t.type){for(var p,c=t.touches.length;c--;)if(p=t.touches[c],p.identifier===l._drag.id){a=p.clientX,n=p.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();if(!l.removed){if(l.dragStartFn&&(l.dragStartFn(d),l.dragStartFn=void 0,l.dragInfo._dragmove=!0),g.win.opera){var h=R._engine.getNode(l),u=h.nextSibling,m=h.parentNode,f=h.style.display;m.removeChild(h),h.style.display=NONE,h.style.display=f,u?m.insertBefore(h,u):m.appendChild(h)}a+=o,n+=r,makeSelectiveCopy(s,t),e=s.data=[a-l._drag.x,n-l._drag.y,a,n],eve('raphael.drag.move.'+l.id,l.dragInfo.move_scope[d]||l,s,e)}}},dragUp=function(t){var e=this,a=e.dragInfo,n=a.onend.length;if(e.dragInfo._dragmove)for(;n--;)e._drag={},eve('raphael.drag.end.'+e.id,a.end_scope[n]||a.start_scope[n]||a.move_scope[n]||e,t);e.dragInfo._dragmove=void 0,R.undragmove.call(e,dragMove),R.undragend.call(e,dragUp),R.unmousemove.call(e,dragMove).unmouseup.call(e,dragUp)},elproto=R.el={},i=events.length;i--;)(function(e){R[e]=elproto[e]=function(t,a,n){return R.is(t,FUNCTION)&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:addEvent(n||this.shape||this.node||g.doc,e,t,a||this)})),this},R['un'+e]=elproto['un'+e]=function(t){for(var a=this.events||[],n=a.length;n--;)if(a[n].name===e&&a[n].f===t)return a[n].unbind(),a.splice(n,1),a.length||delete this.events,this;return this}})(events[i]);elproto.data=function(e,t){var a=eldata[this.id]=eldata[this.id]||{};if(1===arguments.length){if(R.is(e,OBJECT)){for(var n in e)e[HAS](n)&&this.data(n,e[n]);return this}return R.stopPartialEventPropagation||eve('raphael.data.get.'+this.id,this,a[e],e),a[e]}return a[e]=t,R.stopPartialEventPropagation||eve('raphael.data.set.'+this.id,this,t,e),this},elproto.removeData=function(e){return null==e?delete eldata[this.id]:eldata[this.id]&&delete eldata[this.id][e],this},elproto.getData=function(){return clone(eldata[this.id]||{})};var downables=[],mouseDown=function(){this.untrack=addEvent(g.doc,'mouseup',mouseUp,this)},mouseUp=function(){return this.untrack(),this.untrack=null,this.fn&&this.fn.apply(this.scope||this.el,arguments)};elproto.mouseup=function(e,t,a,n){return a?(downables.push(a={el:this,fn:e,scope:t}),a.unbind=addEvent(this.shape||this.node||g.doc,'mousedown',mouseDown,a),this):R.mouseup.apply(this,[e,t,n])},elproto.unmouseup=function(e){for(var t,a=downables.length;a--;)downables[a].el===this&&downables[a].fn===e&&(t=downables[a],t.unbind(),t.untrack&&t.untrack(),downables.splice(a,1));return t?this:R.unmouseup.apply(this,arguments)},elproto.hover=function(e,t,a,n){return this.mouseover(e,a).mouseout(t,n||a)},elproto.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var draggable=[];elproto.drag=function(e,t,a,n,i,r){var o=this.dragInfo||(this.dragInfo={onmove:[],onstart:[],onend:[],move_scope:[],start_scope:[],end_scope:[]});return e&&o.onmove.push(e)&&o.move_scope.push(n),t&&o.onstart.push(t)&&o.start_scope.push(i),a&&o.onend.push(a)&&o.end_scope.push(r),this.dragFn=this.dragFn||function(t){var e,a,n,r,o,s,l,d,p,c,h=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,u=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,m={},y=this.dragInfo,x=[dragMove,undef,g.doc];for(this._drag.x=p=(t.clientX===UNDEF?t.changedTouches&&t.changedTouches[0].clientX:t.clientX)+u,this._drag.y=c=(t.clientY===UNDEF?t.changedTouches&&t.changedTouches[0].clientY:t.clientY)+h,this._drag.id=t.identifier,supportsTouch&&!supportsOnlyTouch&&R.dragmove.apply(this,x).dragend.call(this,dragUp,undef,g.doc),R.mousemove.apply(this,x).mouseup.call(this,dragUp,undef,undef,g.doc),makeSelectiveCopy(m,t),e=m.data=[p,c],(a=0,o=y.onstart.length);a<o;a++)eve.on('raphael.drag.start.'+this.id,y.onstart[a]);for(n=0,s=y.onmove.length;n<s;n++)eve.on('raphael.drag.move.'+this.id,y.onmove[n]);for(r=0,l=y.onend.length;r<l;r++)eve.on('raphael.drag.end.'+this.id,y.onend[r]);o&&!s&&(d=function(){this.undragmove(),y.onmove=[]},y.onmove.push(d),eve.on('raphael.drag.end.'+this.id,d),s),this.dragStartFn=function(t){eve('raphael.drag.start.'+this.id,this.dragInfo.start_scope[t]||this.dragInfo.move_scope[t]||this,m,e)}},this._drag={},draggable.push({el:this,start:this.dragFn,onstart:t,onmove:e,onend:a}),t&&!this.startHandlerAttached&&(supportsTouch&&!supportsOnlyTouch&&this.dragstart(this.dragFn),this.mousedown(this.dragFn),this.startHandlerAttached=!0),this},elproto.onDragOver=function(e){e?eve.on('raphael.drag.over.'+this.id,e):eve.unbind('raphael.drag.over.'+this.id)},elproto.undrag=function(){for(var e=this,t=draggable.length;t--;)draggable[t].el===e&&(e.unmousedown(e.dragFn),draggable.splice(t,1),eve.unbind('raphael.drag.*.'+e.id),e.dragInfo=void 0,e.dragFn=void 0,e.startHandlerAttached=void 0);R.unmousemove.call(e,dragMove).unmouseup.call(e,dragUp),R.undragmove.call(e,dragMove),R.undragend.call(e,dragUp),delete e._drag},elproto.undragstart=function(e){var t,a,n=this,r=n.dragInfo,o=r&&r.onstart,s=r&&r.start_scope;if(e)for(t=0,a=o&&o.length;t<a;t++)if(o[t]===e){o.splice(t,1),s.splice(t,1),eve.unbind('raphael.drag.start.'+this.id,e);break}o&&o.length&&e||(R.undragstart.call(n,n.dragFn),R.unmousedown.call(n,n.dragFn),eve.unbind('raphael.drag.start.'+this.id),n.startHandlerAttached=!1,r&&(r.onstart=[],r.start_scope=[]))},elproto.undragmove=function(e){var t,a,n=this,r=n.dragInfo,o=r&&r.onmove,s=r&&r.move_scope;if(e)for(t=0,a=o&&o.length;t<a;t++)if(o[t]===e){o.splice(t,1),s.splice(t,1),eve.unbind('raphael.drag.move.'+this.id,e);break}o&&o.length&&e||(R.undragmove.call(n,dragMove),R.unmousemove.call(n,dragMove),r&&(r.onmove=[],r.move_scope=[]),eve.unbind('raphael.drag.move.'+this.id))},elproto.undragend=function(e){var t,a,n=this,r=n.dragInfo,o=r&&r.onend,s=r&&r.end_scope;if(e)for(t=0,a=o&&o.length;t<a;t++)if(o[t]===e){o.splice(t,1),s.splice(t,1),eve.unbind('raphael.drag.end.'+this.id,e);break}o&&o.length&&e||(R.undragend.call(n,dragUp),R.unmouseup.call(n,dragUp),r&&(r.onend=[],r.end_scope=[]),eve.unbind('raphael.drag.end.'+this.id))},elproto.follow=function(e,t,a){return e.removed||e.constructor!==R.el.constructor?this:(e.followers.push({el:this,stalk:a={before:'insertBefore',after:'insertAfter'}[a],cb:t}),a&&this[a](e),this)},elproto.unfollow=function(e){if(e.removed||e.constructor!==R.el.constructor)return this;for(var t=0,a=e.followers.length;t<a;t++)if(e.followers[t].el===this){e.followers.splice(t,1);break}return this},paperproto.hide=function(){var e=this;return e.canvas.style.visibility='hidden',e},paperproto.show=function(){var e=this;return e.canvas.style.visibility=E,e},paperproto.group=function(){var e=this,t=getArrayCopy(arguments),a=lastArgIfGroup(t,!0),n=R._engine.group(e,t[0],a);return e.__set__&&e.__set__.push(n),e._elementsById[n.id]=n},paperproto.circle=function(){var e=this,t=getArrayCopy(arguments),a=lastArgIfGroup(t,!0),n=serializeArgs(t,'cx',0,'cy',0,'r',0,'fill',NONE,'stroke',BLACK),i=R._engine.circle(e,n,a);return e.__set__&&e.__set__.push(i),e._elementsById[i.id]=i},paperproto.rect=function(){var e=this,t=getArrayCopy(arguments),a=lastArgIfGroup(t,!0),n=serializeArgs(t,'x',0,'y',0,'width',0,'height',0,'r',0,'fill',NONE,'stroke',BLACK),i=R._engine.rect(e,n,a);return e.__set__&&e.__set__.push(i),e._elementsById[i.id]=i},paperproto.ellipse=function(){var e=this,t=getArrayCopy(arguments),a=lastArgIfGroup(t,!0),n=serializeArgs(t,'x',0,'y',0,'rx',0,'ry',0,'fill',NONE,'stroke',BLACK),i=R._engine.ellipse(this,n,a);return e.__set__&&e.__set__.push(i),e._elementsById[i.id]=i},paperproto.path=function(){var e=this,t=getArrayCopy(arguments),a=lastArgIfGroup(t,!0),n=e.config,i=n&&n['stroke-linecap']||'butt',r=serializeArgs(t,'path',E,'fill',NONE,'stroke',BLACK,'stroke-linecap',i),o=R._engine.path(e,r,a);return e.__set__&&e.__set__.push(o),e._elementsById[o.id]=o},paperproto.image=function(){var e=this,t=getArrayCopy(arguments),a=lastArgIfGroup(t,!0),n=serializeArgs(t,'x',0,'y',0,'width',0,'height',0),i=R._engine.image(e,n,a);return e.__set__&&e.__set__.push(i),e._elementsById[i.id]=i},paperproto.text=function(){var e=this,t=getArrayCopy(arguments),a=lastArgIfGroup(t,!0),n=serializeArgs(t,'x',0,'y',0,'text',E,'stroke',NONE,'fill',BLACK,'text-anchor','middle','vertical-align','middle'),i=R._engine.text(e,n,a,t[1]);return e.__set__&&e.__set__.push(i),e._elementsById[i.id]=i},paperproto.setConfig=function(e,t){var a=this;return void 0!==e&&void 0!==t&&(a.config=a.config||{},a.config[e]=t),a.config},paperproto._createDOMNodes=function(e,t,a){var n,r,o,s,l=this,d={},p=R._createNode,g=t.tagName,c=t.children||[];for(s in a||(a={}),t)'tagName'!==s&&'children'!==s&&(d[s]=t[s]);if(d.id||(d.id=R.getElementID(R.createUUID())),!l.canvas.getElementById(d.id)&&g)for(n=e.appendChild(p(g,d)),a.element=n,a.id=d.id,o=c.length,0<o&&(a.children=[]),r=0;r<o;r++)a.children[r]={},l._createDOMNodes(n,c[r],a.children[r]);return a},paperproto.addDefs=function(e){if(R.svg){var t,a=this,n={},i=a.defs;for(t in e)n[t]={},a._createDOMNodes(i,e[t],n[t]);return n}},paperproto.setSize=function(e,t){return R._engine.setSize.call(this,e,t)},paperproto.setDimension=function(e,t){var a,n=this;typeof e==OBJECT?(a=e.width,t=e.height,n.setSize(e.width,e.height)):(a=e,n.setSize(a,t))},paperproto.attr=function(e){var t=this;return null==e?{width:t.width,height:t.height}:R.is(e,STRING)?t[e]:(t.setDimension(e),t)},paperproto.status=function(e,t){return elproto.status.call(this,e,t)},paperproto.animateWith=function(e,t,a,n,i,r,o){return elproto.animateWith.call(this,e,t,a,n,i,r,o)},paperproto.animate=function(e,t,a,n){return elproto.animate.call(this,e,t,a,n)},paperproto.setViewBox=function(e,t,a,n,i){return R._engine.setViewBox.call(this,e,t,a,n,i)},paperproto.getById=function(e){return this._elementsById[e]||null},paperproto.top=paperproto.bottom=null,paperproto.raphael=R;function x_y(){return this.x+S+this.y}function x_y_w_h(){return this.x+S+this.y+S+this.width+' \xD7 '+this.height}elproto.getBBox=function(e){if(this.removed)return{};var t=this._;return e?((t.dirty||!t.bboxwt)&&(this.realPath=getPath[this.type](this),t.bboxwt=pathDimensions(this.realPath),t.bboxwt.toString=x_y_w_h,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=getPath[this.type](this)),t.bbox=pathDimensions(mapPath(this.realPath,this.matrix)),t.bbox.toString=x_y_w_h,t.dirty=t.dirtyT=0),t.bbox)},elproto.clone=function(e,t){if(this.removed)return null;var a,n,i=this,r=i.attr();if(!e)n=i.paper[i.type]().attr(r);else{for(a in e)r[a]=e[a];n=i.paper[i.type](r,t)}return i.__set__&&i.__set__.push(n),n};var curveslengths={},getPointAtSegmentLength=function(e,t,a,n,i,r,o,s,l){return null==l?bezlen(e,t,a,n,i,r,o,s):R.findDotsAtSegment(e,t,a,n,i,r,o,s,getTatLen(e,t,a,n,i,r,o,s,l))},getLengthFactory=function(e,t){return function(a,n,r){a=path2curve(a);for(var o,s,d,g,c,h=E,u={},m=0,f=0,b=a.length;f<b;f++){if(d=a[f],d[0]===strM)o=+d[1],s=+d[2];else{if(g=getPointAtSegmentLength(o,s,d[1],d[2],d[3],d[4],d[5],d[6]),m+g>n){if(t&&!u.start){if(c=getPointAtSegmentLength(o,s,d[1],d[2],d[3],d[4],d[5],d[6],n-m),h+=['C'+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],r)return h;u.start=h,h=[strM+c.x,c.y+'C'+c.n.x,c.n.y,c.end.x,c.end.y,d[5],d[6]].join(),m+=g,o=+d[5],s=+d[6];continue}if(!e&&!t)return c=getPointAtSegmentLength(o,s,d[1],d[2],d[3],d[4],d[5],d[6],n-m),{x:c.x,y:c.y,alpha:c.alpha}}m+=g,o=+d[5],s=+d[6]}h+=d.shift()+d}return u.end=h,c=e?m:t?u:R.findDotsAtSegment(o,s,d[0],d[1],d[2],d[3],d[4],d[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},getTotalLength=getLengthFactory(1),getPointAtLength=getLengthFactory(),getSubpathsAtLength=getLengthFactory(0,1);R.getTotalLength=getTotalLength,R.getPointAtLength=getPointAtLength,elproto.getTotalLength=function(){return'path'==this.type?this.node.getTotalLength?this.node.getTotalLength():getTotalLength(this.attrs.path):void 0},elproto.getPointAtLength=function(e){return'path'==this.type?getPointAtLength(this.attrs.path,e):void 0};var ef=R.easing_formulas={linear:function(e){return e},"<":function(e){return pow(e,1.7)},">":function(e){return pow(e,.48)},"<>":function(e){var a=.48-e/1.04,n=mathSqrt(.1734+a*a),i=n-a,r=pow(abs(i),1/3)*(0>i?-1:1),o=-n-a,s=pow(abs(o),1/3)*(0>o?-1:1),l=r+s+.5;return 3*(1-l)*l*l+l*l*l},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){--e;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){return e===!!e?e:pow(2,-10*e)*mathSin((e-.075)*(2*PI)/.3)+1},bounce:function(e){var t,a=7.5625,i=2.75;return e<1/i?t=a*e*e:e<2/i?(e-=1.5/i,t=a*e*e+.75):e<2.5/i?(e-=2.25/i,t=a*e*e+.9375):(e-=2.625/i,t=a*e*e+.984375),t},oneBounceOut:function(e){return .9>=e?1.33*ef.easeIn(e):1.2-e/5},elasticOnce:function(e){var t=.9;return e===!!e?e:Math.pow(2,-10*e)*Math.sin((e-t/4)*(2*Math.PI)/t)+1},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return .5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return .5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return .5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return .5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}};ef.easeIn=ef['ease-in']=ef['<'],ef.easeOut=ef['ease-out']=ef['>'],ef.easeInOut=ef['ease-in-out']=ef['<>'],ef['back-in']=ef.backIn,ef['back-out']=ef.backOut;var requestAnimFrame,animationElements=[],animation=function(){for(var a,n,r,o,s=+new Date,d=0,p=[],g=0,c=0;d<animationElements.length;d++)if(o=animationElements[d],!(o.el.removed||o.paused||o.parentEl&&o.parentEl.e&&o.parentEl.e.paused)){for(var h,u,m,y=s-o.start,x=o.ms,f=o.easing,b=o.from,_=o.diff,v=o.to,A=o.t,t=o.el,C={},k={},w=!R.stopPartialEventPropagation,g=0,I=o.el&&o.el.animElements&&o.el.animElements.peek();I&&I.pos<=y/x;)p.push(o.el.animElements.deq()),I=o.el.animElements.peek();if(o.initstatus?(y=(o.initstatus*o.anim.top-o.prev)/(o.percent-o.prev)*x,o.status=o.initstatus,delete o.initstatus,o.stop&&(delete o.el,animationElements.splice(d--,1))):o.status=(o.prev+(o.percent-o.prev)*(y/x))/o.anim.top,u=x,o.parentEl&&o.parentEl.animElements?(x=o.delayend-o.delaystart,y=o.parentEl.cPos-o.delaystart):o.el.animElements&&(o.el.cPos=y/x),!(0>y))if(y<x){var P=f(y/x);for(var T in x=u,b)if(b[HAS](T)){switch(availableAnimAttrs[T]){case'number':h=+b[T]+P*x*_[T];break;case'colour':if(!_[T].length)a=b[T].opacity+P*x*_[T].opacity,isNaN(a)&&(a=1),h='rgba('+[upto255(round(b[T].r+P*x*_[T].r)),upto255(round(b[T].g+P*x*_[T].g)),upto255(round(b[T].b+P*x*_[T].b)),a].join(COMMA)+')';else{for(h=[],g=0,F=b[T].length;g<F;++g)0===g?b[T].isRadial||_[T].isRadial?(n='xr(',n+=b[T][0].f1*(1-P)+_[T][0].f1*P||E,n+=',',n+=b[T][0].f2*(1-P)+_[T][0].f2*P||E,n+=',',n+=100*(b[T][0].f3*(1-P)+_[T][0].f3*P)||E,n+='%,',n+=b[T][0].f4*(1-P)+_[T][0].f4*P||E,n+=',',n+=b[T][0].f5*(1-P)+_[T][0].f5*P,n+=',',n+=b[T][0].f6,n+=')',h.push(n)):(h.push(b[T][g]*(1-P)+P*_[T][g]),0>=h[0]&&(h[0]+=360)):h.push('rgba('+[upto255(round(b[T][g].r+P*x*_[T][g].r)),upto255(round(b[T][g].g+P*x*_[T][g].g)),upto255(round(b[T][g].b+P*x*_[T][g].b)),b[T][g].opacity+P*x*_[T][g].opacity].join(COMMA)+'):'+b[T][g].position);h=h.join('-'),(b[T].isRadial||_[T].isRadial)&&(h=h.replace('-',E))}break;case'path':h=[];for(var g=0,F=b[T].length;g<F;g++){h[g]=[b[T][g][0]];var L=b[T][g]?b[T][g].length:0;for(var O=1;O<L;O++)h[g][O]=(+b[T][g][O]+P*x*_[T][g][O]).toFixed(4);h[g]=h[g].join(S)}h=h.join(S);break;case'transform':if(_[T].real)for(h=[],g=0,F=b[T].length;g<F;g++)for(h[g]=[b[T][g][0]],O=1,L=b[T][g].length;O<L;O++)h[g][O]=b[T][g][O]+P*x*_[T][g][O];else{var N=function(e){return+b[T][e]+P*x*_[T][e]};h=[[mStr,N(0),N(1),N(2),N(3),N(4),N(5)]]}break;case'csv':if('clip-rect'===T)for(h=[],g=4;g--;)h[g]=+b[T][g]+P*x*_[T][g];break;case'text-bound':h=[][CONCAT](b[T]);break;default:var B=[][CONCAT](b[T]);for(h=[],g=t.ca[T].length;g--;)h[g]=+B[g]+P*x*_[T][g];}C[T]=h}t.attr(C),w&&function(e,t,a){setTimeout(function(){eve('raphael.anim.frame.'+e,t,a)})}(t.id,t,o.anim)}else{if(function(e,t,n){setTimeout(function(){w&&eve('raphael.anim.frame.'+t.id,t,n),w&&eve('raphael.anim.finish.'+t.id,t,n),R.is(e,FUNCTION)&&e.call(t)})}(o.callback,t,o.anim),t.attr(v),delete o.el,animationElements.splice(d--,1),1<o.repeat&&!o.next){for(m in v)v[HAS](m)&&(k[m]=o.totalOrigin[m]);o.el.attr(k),runAnimation(o.anim,o.el,o.anim.percents[0],null,o.totalOrigin,o.repeat-1)}o.next&&!o.stop&&runAnimation(o.anim,o.el,o.next,null,o.totalOrigin,o.repeat)}}for(R.svg&&t&&t.paper&&t.paper.safari(),d=0,c=p.length;d<c;++d)r=R.getInstantAnimFrameFn(),r(function(e){return function(){runAnimation.apply(null,p[e].params)}}(d));animationElements.length&&(requestAnimFrame||R.getAnimFrameFn())(animation)},upto255=function(e){return 255<e?255:0>e?0:e},checkPercentage=function(e){return 1<e&&(e=1),0>e&&(e=0),e};R.getAnimFrameFn=function(){return requestAnimFrame=R.requestAnimFrame||_win.webkitRequestAnimationFrame||_win.mozRequestAnimationFrame||_win.oRequestAnimationFrame||_win.msRequestAnimationFrame||function(e){setTimeout(e,16)}},R.getInstantAnimFrameFn=function(){return R.instantRequestAnimFrame||_win.webkitRequestAnimationFrame||_win.mozRequestAnimationFrame||_win.oRequestAnimationFrame||_win.msRequestAnimationFrame||function(e){setTimeout(e,16)}},elproto.animateWith=function(e,t,n,r,o,s,l){var d,p=this,g={};for(d in l=l||{},l)l.hasOwnProperty(d)&&(g[d]=l[d]);if(l=g,p.removed)return s&&s.call(p),p;if(0===r)return R.is(s,FUNCTION)&&setTimeout(function(){s.call(p)},0),p.attr(n);var c=n instanceof Animation?n:R.animation(n,r,o,s);l.start=checkPercentage(l.start||0),l.end=checkPercentage(l.end||1),l.start>=l.end&&(l.start=l.end),!l.from&&.01<l.start?(e.animElements=e.animElements||new PriorityQueue(function(e,t){return t.pos-e.pos}),e.animElements.enq({pos:l.start,attr:l.start===l.end,params:[c,p,c.percents[0],null,p.attr(),void 0,e,{start:l.start,end:l.end,smartMorph:l.smartMorph,hookFn:l.hookFn},n],executeOb:{el:this,attrs:n,callback:s,hookFn:l.hookFn}})):runAnimation(c,p,c.percents[0],null,p.attr(),void 0,e,l);for(var a=0,h=animationElements.length;a<h;a++)if(animationElements[a].anim===t&&animationElements[a].el===e){animationElements[h-1].start=animationElements[a].start;break}return p};function CubicBezierAtTime(e,t,a,n,i,r){function o(e){return((p*e+d)*e+l)*e}function s(e,t){var a,n,r,s,g,c;for(r=e,c=0;8>c;c++){if(s=o(r)-e,abs(s)<t)return r;if(g=(3*p*r+2*d)*r+l,1e-6>abs(g))break;r-=s/g}if(a=0,n=1,r=e,r<a)return a;if(r>n)return n;for(;a<n;){if(s=o(r),abs(s-e)<t)return r;e>s?a=r:n=r,r=(n-a)/2+a}return r}var l=3*t,d=3*(n-t)-l,p=1-l-d,g=3*a,c=3*(i-a)-g;return function(e,a){var n=s(e,a);return(((1-g-c)*n+c)*n+g)*n}(e,1/(200*r))}elproto.onAnimation=function(e){return e?eve.on('raphael.anim.frame.'+this.id,e):eve.unbind('raphael.anim.frame.'+this.id),this};function Animation(e,t){var a=[],n={};if(this.ms=t,this.times=1,e){for(var i in e)e[HAS](i)&&(n[toFloat(i)]=e[i],a.push(toFloat(i)));a.sort(sortByNumber)}this.anim=n,this.top=a[a.length-1],this.percents=a}Animation.prototype.delay=function(e){var t=new Animation(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},Animation.prototype.repeat=function(e){var t=new Animation(this.anim,this.ms);return t.del=this.del,t.times=math.floor(mmax(e,0))||1,t};function colorNormalizer(e,t,a){'use strict';function n(e,t,a){var i=0;e.isRadial&&!t.isRadial&&(i+=+t[0],t[0]={f1:0,f2:0,f3:0,f4:0,f5:0,f6:E},t.isRadial=!0),a||n(t,e,!0)}function r(e){var t,n=0,r=0,o=0,s=[],l={},d=0,p=0,g=0,c=0,h=0,u=0,m={f1:.5,f2:.5};for(1===e.length&&(e[0]===NONE&&(e[0]='rgba(0,0,0,0)'),e.unshift(0),e.defaultAngleSet=!0),isNaN(e[0])?~'rx'.indexOf(e[0].charAt(0))?(e.isRadial=!0,c=1,-1!==e[0].indexOf(')')&&(c=e[0].indexOf(')'),h=e[0].indexOf('(')+1,u=c,s=e[0].substr(h,u-h).split(','),m.f1=parseFloat(s[0])||0,m.f2=parseFloat(s[1])||0,~s[2].indexOf('%')&&(s[2]=parseFloat(s[2])/100),m.f3=parseFloat(s[2])||0,m.f4=parseFloat(s[3])||0,m.f5=parseFloat(s[4])||0,m.f6=s[5]),e[0]=e[0].substr(u+1),e.unshift(m)):e[0]=0:e[0]=+e[0],(n=1,r=e.length);n<r;++n)s=e[n].split(':'),l=a(s[0]),e[n]={},e[n].r=l.r,e[n].g=l.g,e[n].b=l.b,e[n].opacity=l.opacity,e[n].opacity=+e[n].opacity,isNaN(e[n].opacity)&&(e[n].opacity=1),e[n].position=+s[1];if(e.sort(function(e,t){return'number'==typeof e||e.f1?-1:'number'==typeof t||e.f2?1:isNaN(e.position)&&isNaN(t.position)?0:isNaN(e.position)?-1:isNaN(t.position)?1:e.position-t.position}),0!=+e[1].position)if(isNaN(e[1].position))e[1].position=0;else{for(t in l={},e[1])l[t]=e[1][t];for(l.position=0,e.push({}),n=e.length-1;1!=n;--n)e[n]=e[n-1];e[1]=l}if(r=e.length-1,100!==e[r].position)if(isNaN(e[r].position))e[r].position=100;else{for(t in l={},e[r])l[t]=e[r][t];l.position=100,e.push(l)}for(n=2,r=e.length;n<r;++n)if(!e[n].position){for(d=e[n-1].position,g=1,o=n+1;o<r;++o)if(++g,!isNaN(e[o].position)){p=+e[o].position;break}e[n].position=d+(p-d)/g}return e.getColorAtPosition=function(e){for(var t=-1,a=this.length,n=1,r=this.length,o=0,s=E,l={r:0,g:0,b:0};n<r-1;++n)if(this[n].position<=e&&(t=n,a=n+1),!(this[n].position<e)&&this[n].position>=e){a=n;break}for(s in o=(e-this[t].position)/(this[a].position-this[t].position),isNaN(o)&&(o=0),l)l[s]=upto255((1-o)*this[t][s]+o*this[a][s]);return l.position=e,l.opacity=(1-o)*this[t].opacity+o*this[a].opacity,l},e}var o,s,l=0,d=0,p=[],g=[],c={},h=0,u=[];if(e=e.constructor===Array?e[0]:e,t=t.constructor===Array?t[0]:t,o=e.split('-'),s=t.split('-'),1===o.length&&1===s.length)return[e,t];for(o=r(o),s=r(s),!o.defaultAngleSet&&s.defaultAngleSet&&(s[0]=o[0]),!s.defaultAngleSet&&o.defaultAngleSet&&(o[0]=s[0]),n(o,s),(l=1,d=o.length);l<d;++l)h=o[l].position,u.push(h);for(l=1,d=s.length;l<d;++l)h=s[l].position,-1===u.indexOf(h)&&u.push(h);for(u.push(0),u.sort(function(e,t){return e-t}),p=[o[0]],(l=1,d=u.length);l<d;++l)h=u[l],c=o.getColorAtPosition(h),p.push(c);for(g=[s[0]],l=1,d=u.length;l<d;++l)h=u[l],c=s.getColorAtPosition(h),g.push(c);return p.isRadial=o.isRadial,g.isRadial=s.isRadial,[p,g]}function pathNormalizer(e,t){'use strict';function a(e){var t=[],a=0,n=e.length;if(typeof e==STRING)return e;for(a=0;a<n;++a){if(!e[a].join)return;a&&e[a+1]&&'M'===e[a+1][0]&&'M'===e[a][0]||t.push(e[a].join(S))}for(t=t.join(E),t=t.split(/[Mm]/).slice(1),(a=0,n=t.length);a<n;++a)t[a]='M'+t[a];return t}function n(e){var t=0,a=0,n=[];for(e=e||[],a=e.length,t=0;t<a;++t)e[t].length-1&&n.push(e[t].join(S));return n.join(E)}function r(e,t){for(var a=e.length;a-- -1&&e[a].slice(1).toString()===e[a-1].slice(1).toString();)e.pop();1===e.length&&t&&(e.length=0)}function o(e,t){for(var a=[],n=[],r=e.length,o=0,s=0,l=0,d=0,g=0,c=t-r;0<=c;)o=e.length-1,e.push(e.slice(o)[0]),--c;for(r=e.length,o=0;o<=t;++o)n.push(p(o/t*r));for(o=0,s=n.length-1;o<s;++o)a.push(e.slice(n[o],n[o+1])),'M'!==a[o][0][0]&&a[o][0][0]!==mStr&&(d=a[o-1].length-1,l=a[o-1][d][1],g=a[o-1][d][2],a[o].unshift(['M',l,g]));return a}function s(e){var t=[],a=[],n=[],r=0,s=0,l=!0;if(0!==e){for(0<e?(t=u,l=!1):(e=-e,t=h),r=0,s=t.length;r<s;++r)a.push(1);for(;e--;)--r,0>r&&(r=s-1),a[r]++;for(r=0;r<s;++r)1===a[r]?n.push(t[r]):n.push.apply(n,o(t[r],a[r]));l?h=n:u=n}}var l,d=Math.max,p=Math.round,g=[],c=[],h=a(e),u=a(t),m=0,y=0,x=document.createElementNS&&document.createElementNS.bind(document),f=x&&x('http://www.w3.org/2000/svg','path');if(!h||!u||!f)return[e,t];if(function(e,t){function a(e){for(var t=e.length;t-- -1&&e[t].join(E)===e[t-1].join(E);)e.pop()}function n(e){for(var t=E,a=0,n=e.length;a<n;++a)t+=e[a].join(S);return t}var i,r,o=E,s=E;return(f.setAttribute('d','M300 10 L300 300 C50 310,50 640,350 650C600 640,600 310,400 300 L400 10 L295 10'),i=f.getTotalLength(),r=f.getPointAtLength(10),!!(1829.1>i||1829.2<i))||300!==p(r.x)||20!==p(r.y)||(a(e),a(t),o=n(e),s=n(t),!(2<o.split(/[Mm]/).length||2<s.split(/[Mm]/).length)&&e.length===t.length)}(e,t))return[e,t];if(!e||!t)return[e,t];if(!document.createElementNS)return[e,t];if(h=a(e),u=a(t),-1!==h.join().indexOf('undefined'))return[e,t];if(-1!==u.join().indexOf('undefined'))return[e,t];if(!f.getTotalLength||!f.getPointAtLength)return[e,t];for(y=d(h.length,u.length),m=0;m<y;++m)l=_pathNormalizer(h[m],u[m]),h[m]=l[0],u[m]=l[1];for(m=h.length;m--;)r(h[m],m),h[m].length||h.pop();for(m=u.length;m--;)r(u[m],m),u[m].length||u.pop();for(s(h.length-u.length),y=d(h.length,u.length),m=0;m<y;++m)l=_pathNormalizer(n(h[m]),n(u[m])),h[m]=l[0],u[m]=l[1];for(m=0,y=h.length;m<y;++m)g=g.concat(h[m]);for(m=0,y=u.length;m<y;++m)c=c.concat(u[m]);return[g,c]}function commonPathCalculator(e,t){'use strict';function a(e){var t=0,a=0;for(e=e.split(/[MCLmcl]/).slice(1),t=0,a=e.length;t<a;++t)e[t]=e[t].split(S).slice(1),t||e[t].unshift('M'),t&&(2===e[t].length&&e[t].unshift(strL)||e[t].unshift('C'));return e}function n(e,t){var a,n,r=0,o=e.length;for(r=0,o=e.length;r<o;++r)a=e[r].join(S),n=e[r],'C'===n[0]&&n[3]===n[5]&&n[4]===n[6]?e[r].stringValue=[strL,n[3],n[4]].join(S):n.stringValue=a,t[n.stringValue]&&t[n.stringValue].push(r),t[n.stringValue]||(t[n.stringValue]=[r])}function r(e,t,a,n,r){for(var o,s=a,l=0,d=0;s<n;++s)if(o=t[e[s].stringValue],o)for(l=0,d=o.length;l<d;++l)if(o[l]>=r)return{index:s,mapValue:o[l],diff:s-a};return-1}function o(e){var t=e.length-1;return['M',e[t-1],e[t]].join(S)}function s(e){return e.join(E)}var l,d,p=0,g=0,c=0,h=0,u=0,m=0,y={},x={},f=[],b=[],_=-1,v=-1,A=!0;for(e=a(e),t=a(t),n(e,y),n(t,x),c=e.length,h=t.length,p=0,g=0;p<c&&g<h;){if(++_,++v,f[_]=[],b[v]=[],A=e[p].stringValue===t[g].stringValue,p&&(f[_].push(o(e[p-1])),b[v].push(o(t[g-1]))),A)for(;p<c&&g<h&&e[p].stringValue===t[g].stringValue;)f[_].push(e[p].stringValue),b[v].push(t[g].stringValue),++p,++g;else{for(l=r(e,x,p,c,g),d=r(t,y,g,h,p),u=l.index,m=l.mapValue,(!~l||l.diff>d.diff)&&(u=d.mapValue,m=d.index),~l||~d||(u=c-1,m=h-1);p<=u;)f[_].push(e[p].stringValue),++p;for(;g<=m;)b[v].push(t[g].stringValue),++g}f[_]=s(f[_]),b[v]=s(b[v])}if(p<c){for(++_,f[_]=[],f[_].push(o(e[p-1])),++v,b[v]=[],b[v].push(o(t[g-1]));p<c;)f[_].push(e[p].stringValue),++p;f[_]=s(f[_])}if(g<h){for(++_,f[_]=[],f[_].push(o(e[p-1])),++v,b[v]=[],b[v].push(o(t[g-1]));g<h;)b[v].push(t[g].stringValue),++g;b[v]=s(b[v])}return[f,b]}function _pathNormalizer(e,t){'use strict';function a(e,t){var a,n,r=0,o={},s=0,l=0,d=[],p=[],g=0,c=Math.round;for(a=document.createElementNS('http://www.w3.org/2000/svg','path'),a.setAttribute('d',e),n=document.createElementNS('http://www.w3.org/2000/svg','path'),n.setAttribute('d',t),s=a.getTotalLength(),l=n.getTotalLength(),g=.15*Math.max(s,l),g=Math.ceil(g),g&&isFinite(g)&&!(10>g)||(g=10),r=0;r<=g;++r)o=a.getPointAtLength(r/g*s),d.push([r?strL:strM,c(o.x),c(o.y)]),o=n.getPointAtLength(r/g*l),p.push([r?strL:strM,c(o.x),c(o.y)]);return[d,p]}var n,r,o=0,s=0,l=[],d=[];for(e&&'M  '!==e||(e=t.split(S).slice(0,3).join(S).replace(/[LC]/,E)),t&&'M  '!==t||(t=e.split(S).slice(0,3).join(S).replace(/[LC]/,E)),n=commonPathCalculator(e,t),(o=0,s=n[0].length);o<s;++o)r=a(n[0][o],n[1][o]),o?(l=l.concat(r[0].slice(1)),d=d.concat(r[1].slice(1))):(l=l.concat(r[0]),d=d.concat(r[1]));return[l,d]}function runAnimation(t,a,n,r,o,s,l,d){n=toFloat(n);var p,g,c,h,u,y,x,f,b=t.ms,v={},A={},C={};if(null!==a.type){if(d=d||{},d.hookFn&&d.hookFn.call(a),d.from=d.from||{},r)for(w=0,S=animationElements.length;w<S;w++){var k=animationElements[w];if(k.el.id===a.id&&k.anim===t){k.percent==n?g=k:(delete k.el.e,delete k.el,animationElements.splice(w,1),c=1),a.attr(k.totalOrigin);break}}else r=+A;for(var w=0,S=t.percents.length;w<S;w++)if(t.percents[w]===n||t.percents[w]>r*t.top){n=t.percents[w],u=t.percents[w-1]||0,b=b/t.top*(n-u),h=t.percents[w+1],p=t.anim[n];break}else r&&a.attr(t.anim[t.percents[w]]);if(p){if(!g){for(var I in p)if(p[HAS](I))if(availableAnimAttrs[HAS](I)||a.ca[I]){switch(v[I]=d.from[I]||a.attr(I),null==v[I]&&(v[I]=availableAttrs[I]),A[I]=p[I],f=!1,availableAnimAttrs[I]){case'number':x=A[I]-v[I],(x||isNaN(x))&&(f=!0),C[I]=x/b;break;case'colour':if(v[I]===A[I])break;else f=!0;var P=colorNormalizer(v[I],A[I],R.getRGB);v[I]=P[0];var T=P[1];if(typeof T==STRING)v[I].toLowerCase()===NONE?v[I]={r:0,g:0,b:0,opacity:0}:(v[I]=R.getRGB(v[I]),!v[I].opacity&&(v[I].opacity=1)),A[I].toLowerCase()===NONE?T={r:0,g:0,b:0,opacity:0}:(T=R.getRGB(A[I]),!T.opacity&&(T.opacity=1)),C[I]={r:(T.r-v[I].r)/b,g:(T.g-v[I].g)/b,b:(T.b-v[I].b)/b,opacity:(T.opacity-v[I].opacity)/b};else for(C[I]=[],w=0,S=v[I].length;w<S;++w)0===w?C[I].push(T[0]):C[I].push({r:(T[w].r-v[I][w].r)/b,g:(T[w].g-v[I][w].g)/b,b:(T[w].b-v[I][w].b)/b,opacity:(T[w].opacity-v[I][w].opacity)/b});break;case'path':var E,F=path2curve(v[I],A[I]);for(d.smartMorph&&(F=pathNormalizer(F[0],F[1],d)),E=F[1],v[I]=F[0],C[I]=[],(w=0,S=v[I].length);w<S;w++){C[I][w]=[0];var L=v[I][w]?v[I][w].length:0;for(var O=1;O<L;O++)C[I][w][O]=(E[w][O]-v[I][w][O])/b,!f&&C[I][w][O]&&(f=!0)}break;case'transform':var N=a._,_=equaliseTransform(N[I],A[I]);if(f=!0,_)for(v[I]=_.from,A[I]=_.to,C[I]=[],C[I].real=!0,(w=0,S=v[I].length);w<S;w++)for(C[I][w]=[v[I][w][0]],O=1,L=v[I][w].length;O<L;O++)C[I][w][O]=(A[I][w][O]-v[I][w][O])/b;else{var B=a.matrix||new Matrix,m={_:{transform:N.transform},getBBox:function(){return a.getBBox(1)}};v[I]=[B.a,B.b,B.c,B.d,B.e,B.f],extractTransform(m,A[I]),A[I]=m._.transform,C[I]=[(m.matrix.a-B.a)/b,(m.matrix.b-B.b)/b,(m.matrix.c-B.c)/b,(m.matrix.d-B.d)/b,(m.matrix.e-B.e)/b,(m.matrix.f-B.f)/b]}break;case'csv':var M=Str(p[I])[SPLIT](separator),V=Str(v[I])[SPLIT](separator);if('clip-rect'===I)for(v[I]=V,C[I]=[],w=V.length;w--;)x=M[w]-v[I][w],(x||isNaN(x))&&(f=!0),C[I][w]=x/b;A[I]=M;break;default:for(M=[][CONCAT](p[I]),V=[][CONCAT](v[I]),C[I]=[],w=a.ca[I].length;w--;)x=(M[w]||0)-(V[w]||0),(x||isNaN(x))&&(f=!0),C[I][w]=x/b;}f||(delete v[I],delete A[I],delete p[I],delete C[I])}else(R._availableAttrs[HAS](I)||'text'===I||a.ca[I])&&(a.attr(I,p[I]),delete p[I]);var D=p.easing,q=R.easing_formulas[D];if(!q)if(q=Str(D).match(bezierrg),q&&5===q.length){var Y=q;q=function(e){return CubicBezierAtTime(e,+Y[1],+Y[2],+Y[3],+Y[4],b)}}else q=pipe;if(y=p.start||t.start||+new Date,a.e=k={anim:t,percent:n,timestamp:y,start:y+(t.del||0),status:0,initstatus:r||0,stop:!1,ms:b,easing:q,from:v,diff:C,to:A,el:a,callback:p.callback,prev:u,next:h,repeat:s||t.times,origin:a.attr(),totalOrigin:o,parentEl:l,delayend:d&&d.end,delaystart:d&&d.start},animationElements.push(k),r&&!g&&!c&&(k.stop=!0,k.start=new Date-b*r,1===animationElements.length))return animation();c&&(k.start=new Date-k.ms*r),1===animationElements.length&&(requestAnimFrame||R.getAnimFrameFn())(animation)}else g.initstatus=r,g.start=new Date-g.ms*r;eve('raphael.anim.start.'+a.id,a,t)}}}R.animation=function(e,t,a,n,i){if(e instanceof Animation)return e;(R.is(a,FUNCTION)||!a)&&(n=n||a||null,a=null),R.stopPartialEventPropagation||(R.stopPartialEventPropagation=i),e=Object(e),t=+t||0;var r,o,s={};for(o in e)e[HAS](o)&&toFloat(o)!=o&&toFloat(o)+'%'!=o&&(r=!0,s[o]=e[o]);return n&&(r=!0),r?(a&&(s.easing=a),n&&(s.callback=n),new Animation({100:s},t)):new Animation(e,t)},elproto.animate=function(e,t,a,n){var i=this;if(i.removed)return n&&n.call(i),i;var r=e instanceof Animation?e:R.animation(e,t,a,n);return runAnimation(r,i,r.percents[0],null,i.attr()),i},elproto.status=function(t,a){var n,r,o=[],s=0;if(null!=a)return runAnimation(t,this,-1,mmin(a,1)),this;for(n=animationElements.length;s<n;s++)if(r=animationElements[s],r.el.id===this.id&&(!t||r.anim===t)){if(t)return r.status;o.push({anim:r.anim,status:r.status})}return t?0:o},elproto.pause=function(t,a){var n,r,o=+new Date;for(r=0;r<animationElements.length;r++)n=animationElements[r],(n.el.id===this.id||a&&n.parentEl&&n.parentEl.e.el&&n.parentEl.e.el.id===this.id)&&(!t||n.anim===t)&&!1!==eve('raphael.anim.pause.'+this.id,this,n.anim)&&(n.paused=!0,n.pauseStart=o);return this},elproto.resume=function(t,a){var n,r,o=+new Date;for(r=0;r<animationElements.length;r++)n=animationElements[r],(n.el.id===this.id||a&&n.parentEl&&n.parentEl.e.el&&n.parentEl.e.el.id===this.id)&&(!t||n.anim===t)&&!1!==eve('raphael.anim.resume.'+this.id,this,n.anim)&&(delete n.paused,n.el.status(n.anim,n.status),n.pauseEnd=o,n.start+=(n.parentEl&&n.parentEl.e.pauseEnd||n.pauseEnd)-(n.parentEl&&n.parentEl.e.pauseStart||n.pauseStart)||0);return this},elproto.stop=function(t,a,n){var r,o,s;if(a)for(o=animationElements.length-1;0<=o;o--)r=animationElements[o],(r.el.id===this.id||r.parentEl&&r.parentEl.id===this.id)&&(!t||animationElements[o].anim===t)&&(s=r.el,n&&s.attr(r.to),r.callback&&r.callback.call(s),delete s.e,delete r.el,animationElements.splice(o,1));else for(var o=0;o<animationElements.length;o++)r=animationElements[o],r.el.id!==this.id||t&&r.anim!==t||!1===eve('raphael.anim.stop.'+this.id,this,r.anim)||animationElements.splice(o--,1);return this.animElements&&executeAnimQueue(this.animElements),this};function executeAnimQueue(e){for(var t;t=e.deq();)t=t.executeOb,t.hookFn&&t.hookFn.call(t.el),t.el.attr(t.attrs),t.callback&&t.callback.call(t.el)}function stopAnimation(e){for(var t=0;t<animationElements.length;t++)animationElements[t].el.paper===e&&animationElements.splice(t--,1)}eve.on('raphael.remove',stopAnimation),eve.on('raphael.clear',stopAnimation),elproto.toString=function(){return'Rapha\xEBl\u2019s object'},elproto.toFront=function(){if(this.removed)return this;var e,t,a,n=this,r=R._engine.getNode(n),o=n.parent,s=n.followers;for(R._tofront(n,o)&&o.canvas.appendChild(r),t=0,a=s.length;t<a;t++)(e=s[t]).stalk&&e.el[e.stalk](n);return n},elproto.toBack=function(){if(this.removed)return this;var e,t,a,n=this,r=R._engine.getNode(n),o=n.parent,s=n.followers;for(R._toback(n,o)&&o.canvas.insertBefore(r,o.canvas.firstChild),t=0,a=s.length;t<a;t++)(e=s[t]).stalk&&e.el[e.stalk](n);return n},elproto.insertAfter=function(e){if(this.removed)return this;var t,a,n,r=this,o=R._engine.getNode(r),s=R._engine.getLastNode(e),l=e.parent.canvas,d=r.followers;for(s.nextSibling?l.insertBefore(o,s.nextSibling):l.appendChild(o),R._insertafter(r,e,r.parent,e.parent),(a=0,n=d.length);a<n;a++)(t=d[a]).stalk&&t.el[t.stalk](e);return r},elproto.insertBefore=function(e){if(this.removed)return this;var t,a,n,r=this,o=R._engine.getNode(r),s=R._engine.getNode(e),l=r.followers;for(e.parent.canvas.insertBefore(o,s),R._insertbefore(r,e,r.parent,e.parent),r.parent=e.parent,(a=0,n=l.length);a<n;a++)(t=l[a]).stalk&&t.el[t.stalk](e);return this},elproto.appendChild=function(e){if(this.removed||'group'!==this.type)return this;var t,a,n,r,o=this,s=o.followers;if(e.parent===o)return e.toFront(),o;for(a=R._engine.getNode(e),R._tear(e,e.parent),o.canvas.appendChild(a),e.parent=o,o.bottom||(o.bottom=e),e.prev=o.top,e.next=null,o.top&&(o.top.next=e),o.top=e,(n=0,r=s.length);n<r;n++)(t=s[n]).stalk&&t.el[t.stalk](e);return o},elproto.appendTo=function(e){return e.appendChild(this)},elproto.removeChild=function(e){if(this.removed||'group'!==this.type||e.parent!==this)return this;var t=this,a=R._engine.getNode(e),n=t.paper;return R._tear(e,t),n.canvas.appendChild(a),t.parent=n,n.bottom||(n.bottom=t),t.prev=n.top,n.top&&(n.top.next=t),n.top=t,t.next=null,t},R.format=function(e,t){var a=getArrayCopy(arguments),n=R.is(t,ARRAY)?[0][CONCAT](t):a;return e&&R.is(e,STRING)&&n.length-1&&(e=e.replace(formatrg,function(e,t){return null==n[++t]?E:n[t]})),e||E};var crispFixer=R.vml&&.5||0;R.crispBound=cacher(function(e,t,a,n,i){var r,o={};return e=e||0,t=t||0,a=a||0,n=n||0,i=i||0,r=i%2/2+crispFixer,o.x=round(e+r)-r,o.y=round(t+r)-r,o.width=round(e+a+r)-r-o.x,o.height=round(t+n+r)-r-o.y,o['stroke-width']=i,0===o.width&&0!==a&&(o.width=1),0===o.height&&0!==n&&(o.height=1),o},R),elproto.crisp=function(){var e,t=this,a=t.attrs,n=t.attr();for(e in n=R.crispBound(n.x,n.y,n.width,n.height,n['stroke-width']),n)a[e]===n[e]&&delete n[e];return t.attr(n)},R.define=function(t,a,n,r,o,e){var s,l;if(R.is(t,ARRAY)){for(s=0,l=t.length;s<l;s++)R.define(t[s]);return}return R.is(t,OBJECT)?void R.define(t.name,t[t.name],t.ca,t.fn,t.e,t.data):!t||R.fn[t]?void 0:(R.fn[t]=function(){var e,i=getArrayCopy(arguments),s=a.apply(this,i);if(r&&R.is(r,OBJECT))for(e in r)s[e]=r[e];if(o&&R.is(o,OBJECT))for(e in o)s[e]&&s[e](o[e]);if(n){if(R.is(n,FUNCTION))s.ca[t]=n;else for(e in n)s.ca[e]=n[e];s.ca[t]&&(R._lastArgIfGroup(i,!0),i.length&&(i[0][t]?s.attr.apply(s,i):s.attr(t,i[0])))}return s},n&&(R.fn[t].ca=n),r&&(R.fn[t].fn=r),o&&(R.fn[t].e=o),e&&(R.fn[t].data=e),R.fn[t])},function(e,t,a){function n(){/in/.test(e.readyState)?setTimeout(n,9):R.eve('raphael.DOMload')}null==e.readyState&&e.addEventListener&&(e.addEventListener(t,a=function(){e.removeEventListener(t,a,!1),e.readyState='complete'},!1),e.readyState='loading'),n()}(doc,'DOMContentLoaded'),eve.on('raphael.DOMload',function(){loaded=!0}),R._preload=function(e,t){var a=g.doc,n=a.createElement('img');n.style.cssText='position:absolute;left:-9999em;top:-9999em',n.onload=function(){t.call(this),this.onload=null,a.body.removeChild(this)},n.onerror=function(){a.body.removeChild(this)},a.body.appendChild(n),n.src=e};export default R;